#:kivy 2.0.0
#:import Factory kivy.factory.Factory

<NodeWidget>:
     size: 50, 50
     # drag_rectangle: self.pos[0], self.pos[1], self.size[0], self.size[1]
     # drag_timeout: 10000000
     # drag_distance: 0

     canvas.before:
          Color:
               rgba: 0, 0, 0, 1
          Ellipse:
               size: 55, 55
               pos: [self.pos[0] - 2.5, self.pos[1] - 2.5]

          Color:
               rgba: 0.9, 0.9, 0.9, 1
          Ellipse:
               size: 50, 50
               pos: self.pos

     Label:
          size: 50, 20
          color: 0, 0, 0, 1
          pos: [self.parent.pos[0], self.parent.pos[1] + 14]
          text: root.nodeId

<EdgeWidget>:
     canvas.before:
          Color:
               rgba: 0, 0, 0, 0.9
          Line:
               points: self.points
               width: 1.5

<MyPopUpWidget>:
     BoxLayout:
          orientation: 'vertical'
          Label:
               text: 'Node radius'
               color: 1, 1, 1, 1
          Label:
               text: 'Edge ideal length'
               color: 1, 1, 1, 1
          Label:
               text: 'Node background'
               color: 1, 1, 1, 1
          Label:
               text: 'Node color'
               color: 1, 1, 1, 1
          Label:
               text: 'Edge color'
               color: 1, 1, 1, 1
          Button:
               text: 'Apply'

<AlgDropDownList>:
     Button:
          id: bfs_btn
          text: 'BFS'
          size_hint_y: None
          height: 44
          background_normal: ''
          background_color: 0.34, 0.34, 0.34, 1
          on_release: root.select('bfs')
     Button:
          id: dfs_btn
          text: 'DFS'
          size_hint_y: None
          height: 44
          background_normal: ''
          background_color: 0.34, 0.34, 0.34, 1
          on_release: root.select('dfs')
     Button:
          id: dijkstra_btn
          text: 'Dijkstra'
          size_hint_y: None
          height: 44
          background_normal: ''
          background_color: 0.34, 0.34, 0.34, 1
          on_release: root.select('dijkstra')


<InputDropDownList>:
     Button:
          id: listOfEdges_btn
          text: 'List of edges'
          size_hint_y: None
          height: 44
          background_normal: ''
          background_color: 0.8, 0.8, 0.8, 1
          on_release: root.select('edgeList')
     Button:
          id: adjacencyList_btn
          text: 'Adjacency List'
          size_hint_y: None
          height: 44
          background_normal: ''
          background_color: 0.34, 0.34, 0.34, 1
          on_release: root.select('adjacencyList')
     Button:
          id: adjacencyMatrix_btn
          text: 'Adjacency Matrix'
          size_hint_y: None
          height: 44
          background_normal: ''
          background_color: 0.34, 0.34, 0.34, 1
          on_release: root.select('adjacencyMatrix')
     Button:
          id: costMatrix_btn
          text: 'Cost Matrix'
          size_hint_y: None
          height: 44
          background_normal: ''
          background_color: 0.34, 0.34, 0.34, 1
          on_release: root.select('costMatrix')


<MainViewWidget>:
     canvas.before:
          Color:
               rgba: 1, 1, 1, 1
          Rectangle:
          # self here refers to the widget i.e FloatLayout
               pos: self.pos[0], self.pos[1]
               size: self.size[0], self.size[1]

     GridLayout:
          size: root.width - 20, root.height - 20
          # row_default_height: 50
          # row_force_default: True
          pos: 10, 10
          cols: 1
          rows: 4

          BoxLayout:
               orientation: 'vertical'
               size_hint_y: None
               height: 50
                # If you put something here it will appear above the slider

               GridLayout:
                    row_default_height: 40
                    row_force_default: True
                    cols: 2
                    rows: 1

                    BoxLayout:
                         orientation: 'horizontal'
                         id: top_btns
                         spacing: 2
                         Button :
                              id: undirected_btn
                              size: 70, 40
                              pos:10, 10
                              background_normal: ''
                              background_color: 0.8, 0.8, 0.8, 1
                              text: 'Undirected'
                         Button :
                              id: directed_btn
                              size: 70, 40
                              pos:10, 10
                              background_normal: ''
                              background_color: 0.34, 0.34, 0.34, 1
                              text: 'Directed'

                         Button :
                              id: algorithm_btn
                              size: 70, 40
                              pos:10, 10
                              #background_normal: ''
                              #background_color: 0.34, 0.34, 0.34, 1
                              text: 'Algorithms'
                    BoxLayout:
                         orientation: 'horizontal'

                         AnchorLayout:
                              #cols: 2
                              #rows: 1
                              anchor_x: 'right'
                              #row_default_height: 40
                              #row_force_default: True


                              GridLayout:
                                   rows: 1
                                   cols: 2
                                   width: 200
                                   size_hint_x: None
                                   Button:
                                        id: settings_btn
                                        size: 100, 50
                                        pos: self.pos
                                        background_color: 1, 1, 1, 1
                                        text: 'Settings'
                                        size_hint_x: None

                                   Button:
                                        size: 100, 50
                                        pos: self.pos
                                        background_color: 1, 1, 1, 1
                                        text: 'Help'
                                        size_hint_x: None
                                        #width: 100

          BoxLayout:
               height: 1000

               Splitter:
                    sizable_from: 'right'

                    BoxLayout:
                         orientation: 'vertical'
                         #size_hint_y: None

                         BoxLayout:
                              orientation: 'horizontal'
                              size_hint_y: None
                              height: 40
                              padding:[10, 0, 10, 0]
                              spacing: 20

                              Label:
                                   size: 50, 40
                                   text: 'Graph data'
                                   color: 0, 0, 0, 1

                              Button:
                                   id: input_btn
                                   size: 100, 40
                                   background_color: 1, 1, 1, 1
                                   text: 'Input'

                         BoxLayout:
                              orientation: 'horizontal'
                              #size_hint_y: None
                              height: 40
                              TextInput:
                                   id: input_nodes
                                   hint_text:'Enter text'
                                   size: 50, 300

                              BoxLayout:
                                   orientation: 'vertical'
                                   #spacing: 50
                                   padding: [10, 20, 10, 20]
                                   size_hint_y: None
                                   height: 200
                                   Button:
                                        padding: [20, 20]
                                        size: 100, 40
                                        background_color: 1, 1, 1, 1
                                        text: 'Draw'
                                   Label:
                                        padding: [20, 20]
                                        id: draw_lbl
                                        text:'Tap to add nodes, \nDouble top to remove nodes'
                                        color: 0, 0, 0, 1

                                   Button:
                                        padding: [20, 20]
                                        size: 100, 40
                                        background_color: 1, 1, 1, 1
                                        text: 'Tree'



               RelativeLayout:
                    id: graph_canvas
                    canvas.before:
                         Color:
                              rgba: 0.8, 0.9, 0.9, 1
                         Rectangle:
                          # self here refers to the widget i.e FloatLayout
                              pos: self.parent.pos[0] - 6, self.parent.pos[1] - 46
                              size: self.size[0] - 6, self.size[1] - 6

                         Color:
                              rgba: 0, 0, 0, 1
                         Line:
                              width: 1
                              rectangle: self.parent.pos[0] - 6, self.parent.pos[1] - 46, self.width - 6, self.height - 6

          GridLayout:
               size_hint_y: None
               height: 10
               rows: 1
               cols: 1

          GridLayout:
               row_default_height: 30
               row_force_default: True
               rows: 1
               cols: 3
               height: 30
               width: 400
               size_hint_x: None
               size_hint_y: None

               BoxLayout:
                    orientation: 'horizontal'
                    height: 30
                    spacing: 20
                    size_hint_x: None
                    width:50

                    Button :
                         size: 50, 30
                         size_hint_x: None
                         pos:10, 0
                         background_color: 1, 1, 1, 1
                         text: '<='

               BoxLayout:
                    orientation: 'horizontal'
                    height: 30
                    spacing: 20
                    size_hint_x: None
                    width: 120
                    Button :
                         size: 50, 30
                         pos:10, 0
                         background_color: 1, 1, 1, 1
                         text: '<-'

                    Button :
                         size: 50, 30
                         pos:10, 0
                         background_color: 1, 1, 1, 1
                         text: '->'
               BoxLayout:
                    orientation: 'horizontal'
                    height: 30
                    spacing: 20
                    Button :
                         size_hint_x: None
                         size: 50, 30
                         pos:10, 0
                         background_color: 1, 1, 1, 1
                         text: '=>'